var mix=require("laravel-mix"),glob=require("glob"),path=require("path"),chokidar=require("chokidar"),MixGlob=function(){function p(i,e){return"string"==typeof e?e:!(!e||!e.hasOwnProperty(i))&&e[i]}function g(i,e,t){var n=p(i,e);return n||p(i,t)}var i,n={sass:{mapExt:"css"},js:{mapExt:"js"}};function a(i,e){var t=null;return n[i]&&(t=n[i].mapExt),function(i,e,t){var n=g(i,e,t);if(n)return n;throw"defaultMapExt: no mapping precised, neither it's supported by default"}(i,e,t)}function e(i){i&&i.mapping&&(this.mappping=i.mapping),i&&i.mapping||(this.mappping={}),this.mixInst=mix,Object.keys(mix).forEach(function(r,i){["mix","config","scripts","styles"].includes(r)||(this[r]=function(i,e,t,n){var p=a(r,this.mapping.mapExt);return function(e,i,t,n,p,r,a){var s,c,o,m,u,l,f=glob.sync(i),h=r;if(p||(p={}),p.compileSpecifier||(p.compileSpecifier={}),!p.compileSpecifier.disabled){var x=a;p.compileSpecifier.specifier&&(x=p.compileSpecifier.specifier),m=new RegExp("."+x+".(?!.*"+x+".)","g")}p.extMapping&&(h=p.extMapping),f.forEach(function(i){s=p.base?i.replace(p.base,""):i,p.compileSpecifier.disable||(s=s.replace(m,".")),o=path.extname(s).substr(1),u=new RegExp(o+"$","g"),l=g(o,h,r),o!==l&&(s=s.replace(u,l)),c=path.join(t,s),this.mixInst=n?this.mixInst[e](i,c,n):this.mixInst[e](i,c)})}.call(this,r,i,e,t,n,p,"compile"),this}.bind(this))}.bind(this))}return(i=e.prototype).createMapping=function(i){},i.mix=function(i){return function(){return console.log(arguments),mix[i].apply(mix,arguments),this}.bind(this)},e}();module.exports=MixGlob;